<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>

<AnchorPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.healthease.controllers.MessengerController"
            prefHeight="520" prefWidth="760" style="-fx-background-color: #f7f9fb;">

    <!-- Header -->
    <Rectangle arcHeight="8" arcWidth="8" fill="#50C878" height="100" width="1000"/>
    <Label fx:id="titleLabel" layoutX="20" layoutY="35" style="-fx-text-fill: white; -fx-font-size: 26;"/>

    <!-- Users panel with search -->
    <VBox spacing="8" AnchorPane.topAnchor="120" AnchorPane.leftAnchor="20" AnchorPane.rightAnchor="20" AnchorPane.bottomAnchor="20"
          style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0.1, 0, 2);">
        <Label text="Find Users" style="-fx-font-weight: bold; -fx-text-fill: #2F855A;"/>
        <TextField fx:id="searchField" promptText="Search by username... (case-insensitive)"/>
        <ListView fx:id="userListView" VBox.vgrow="ALWAYS"/>
        <HBox alignment="CENTER_RIGHT" spacing="8">
            <Button text="Open Chat" onAction="#handleOpenChat" style="-fx-background-color:#50C878; -fx-text-fill:white; -fx-background-radius:8; -fx-font-weight:bold;"/>
            <Button text="Close" onAction="#handleBack" style="-fx-background-color:#e6e6e6; -fx-background-radius:8;"/>
        </HBox>
    </VBox>
</AnchorPane>